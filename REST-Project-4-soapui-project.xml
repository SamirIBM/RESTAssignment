<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="3175d3ba-3c5c-43a1-bc69-c4059913440f" activeEnvironment="Default" name="REST Project_Assignment" resourceRoot="" soapui-version="5.6.0" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="ffa516f1-a2a8-4af9-8422-6c06b9123bfe" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Client_credentials" path="/api/rest_admin/oauth2/token/client_credentials" id="124f7f32-074b-4731-9bfc-fa6e130dbcd9"><con:settings/><con:parameters/><con:method name="Client_credentials 1" id="96d1f884-12af-428b-881c-a67e0896009e" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:cli="http://rest-api.upskills.in/api/rest_admin/oauth2/token/client_credentials">cli:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:cli="http://rest-api.upskills.in/api/rest_admin/oauth2/token/client_credentials">cli:Fault</con:element></con:representation><con:request name="Request 1" id="d33ce108-cea4-4764-b9bf-1732dc36a3a2" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic dXBza2lsbHNfcmVzdF9hZG1pbl9vYXV0aF9jbGllbnQ6dXBza2lsbHNfcmVzdF9hZG1pbl9vYXV0aF9zZWNyZXQ=" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/oauth2/token/client_credentials</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="54a19772-7fdd-4afb-95b4-617b166aa9de" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Login" path="/api/rest_admin/login" id="30eed67a-0f0a-421f-9349-30f40f769120"><con:settings/><con:parameters/><con:method name="Login 1" id="a18ec3f8-5026-403c-8fcb-1078e3c317b4" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>401 400</con:status><con:params/><con:element xmlns:log="http://rest-api.upskills.in/api/rest_admin/login">log:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:log="http://rest-api.upskills.in/api/rest_admin/login">log:Response</con:element></con:representation><con:request name="Request 1" id="4cadf9a5-7a8e-4f01-a37b-767d75769f18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#ACCESSTOKEN}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
  "username": "upskills_admin",
  "password": "Talent4$$"
}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/login</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="41104433-a1c1-4ef1-8c46-2f048b42beb6" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Limit" path="/api/rest_admin/categories/extended/limit/" id="d225de18-8365-4462-a499-3d56c44c24d2"><con:settings/><con:parameters/><con:method name="Limit 1" id="952bd7ac-3a1e-4fb3-aef3-8086603b0f49" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>401</con:status><con:params/><con:element xmlns:lim="http://rest-api.upskills.in/api/rest_admin/categories/extended/limit/">lim:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:lim="http://rest-api.upskills.in/api/rest_admin/categories/extended/limit/">lim:Response</con:element></con:representation><con:request name="Request 1" id="e2f730f8-b39a-442f-b996-4e1aa029e5fd" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="limit" value="2"/>&#13;
  &lt;con:entry key="Authorization" value=""/>&#13;
  &lt;con:entry key="page" value="1"/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/categories/extended/limit/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite id="783ae471-f4c5-47a1-a82a-e7590f9a3adb" name="RESTSuite"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="83894ad1-b5b9-4463-9d7a-76df9bec5451" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Categories_FilteredByLimit" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="AccessToken" id="6dbe27fd-e0fe-4278-b673-08a2db981758"><con:settings/><con:config service="http://rest-api.upskills.in" methodName="Client_credentials 1" resourcePath="/api/rest_admin/oauth2/token/client_credentials" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AccessToken" id="bb6ab6a9-61db-4f5a-a92c-840564324fb5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic dXBza2lsbHNfcmVzdF9hZG1pbl9vYXV0aF9jbGllbnQ6dXBza2lsbHNfcmVzdF9hZG1pbl9vYXV0aF9zZWNyZXQ=" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/oauth2/token/client_credentials</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="d8776e2f-3fbf-495d-99b1-e2c6ebe65b3f"><con:settings/><con:config><script>import groovy.json.*
def res = testRunner.testCase.getTestStepByName("AccessToken").getPropertyValue("Response")
log.info res
 //To parse the json
def jsonSlurper = new JsonSlurper()
def parsedJson = jsonSlurper.parseText(res)
log.info parsedJson
//To get the FirstName in the parsed json
def accessToken = parsedJson.data.access_token
log.info accessToken
 //To store the value in testcase
testRunner.testCase.setPropertyValue("ACCESSTOKEN", "Bearer "+accessToken)
//To create the request body using toJson -> serialize groovy object to Json
//def createRequest = JsonOutput.toJson([name:first_name,job:"My Job"])
//log.info createRequest
////Too set the created request in udpateuser
//testRunner.testCase.getTestStepByName("UpdateUsers").setPropertyValue("Request", createRequest)
//
//testRunner.testCase.testSuite.project.testSuites["TestSuite"].testCases["TestCase 1"].testSteps["UpdateUsers"].run(testRunner, context)</script></con:config></con:testStep><con:testStep type="restrequest" name="Login" id="9623aba9-6210-47b0-9c6d-7cae3e735448"><con:settings/><con:config service="http://rest-api.upskills.in" methodName="Login 1" resourcePath="/api/rest_admin/login" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Login" id="c8e7cf4b-4bdc-4e6d-ad82-d31f714a857a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#ACCESSTOKEN}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
  "username": "upskills_admin",
  "password": "Talent4$$"
}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/login</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="ListOfCategoriesByLimit" id="a71e84df-aa0b-432d-8355-dc5f992e12f8"><con:settings/><con:config service="http://rest-api.upskills.in" methodName="Limit 1" resourcePath="/api/rest_admin/categories/extended/limit/" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ListOfCategoriesByLimit" id="eae91a1f-e155-4665-a909-22959c76bae1" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="Authorization" value="${#TestCase#ACCESSTOKEN}"/>&#13;
  &lt;con:entry key="limit" value="2"/>&#13;
  &lt;con:entry key="page" value="1"/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/categories/extended/limit/</con:originalUri><con:assertion type="GroovyScriptAssertion" id="114d03da-c32d-4b2a-8ff0-88214b25cb87" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper
//To validate the response SLA
assert messageExchange.timeTaken &lt; 20000
//To validate the endpoint
def endPoint = messageExchange.getEndpoint()
assert endPoint== "http://rest-api.upskills.in/api/rest_admin/categories/extended/limit/"
//To validate header content Type


responseHeader=messageExchange.responseHeaders["X-Pagination-Limit"]
log.info("Response Header "+responseHeader)
//To Validate the status code

def status = messageExchange.responseHeaders["#status#"]
log.info status

 //To validate the response using JsonSlurper
def resp = messageExchange.response.responseContent
log.info ("Response is " + resp)
//To parse the response json
def jsonSlurper = new JsonSlurper().parseText(resp)
//To get the email id
def categoryId = jsonSlurper.data[0].category_id
log.info categoryId
//To get the metaKeyword
def metaKeyword = jsonSlurper.data[0].meta_keyword
log.info metaKeyword
//To validate the email and firstname
assert categoryId == 894
assert metaKeyword == "demo, demo2"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>ACCESSTOKEN</con:name><con:value>Bearer 1dd051bfd8f8c850c73f5d93dff55db886710e71</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>